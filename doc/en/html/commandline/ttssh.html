<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>TTSSH command line</title>
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" href="../style.css" type="text/css">
</head>
<body>


<h1>TTSSH command line</h1>

<p>
You can use the following command line parameters on TTSSH.
</p>


<h2>Options</h2>

<dl>
  <dt id="hostname">&lt;username&gt;@&lt;host&gt;[:&lt;#TCP port&gt;]</dt>
  <dd>A user can specify the user name in front of at-mark.</dd>

  <dt id="host-url">&lt;scheme&gt;://[&lt;username&gt;[:&lt;password&gt;]@]&lt;host&gt;[:&lt;TCP port&gt;][/]</dt>
  <dd>A user can the URL format.<br>
      A user can specify ssh, ssh1, ssh2, slogin, slogin1 and slogin2 at the &lt;scheme&gt;.<br>
      If the port number is not specified, 22 is used as the port number and then TCPPort value in teraterm.ini file is ignored.</dd>

  <dt id="f">/f=&lt;file&gt;</dt>
  <dd>
    read teraterm.ini(file)<br>
    If this value is not a full path, it is understood as a relative path from <a href="../setup/folder.html">configuration file folder</a>.
  </dd>

  <dt id="ssh-f">/ssh-f=&lt;file&gt;</dt>
  <dd>
    read teraterm.ini(file)<br>
    If this value is not a full path, it is understood as a relative path from <a href="../setup/folder.html">configuration file folder</a>.
  </dd>

  <dt id="ssh-consume">/ssh-consume=&lt;file&gt;</dt>
  <dd>
    After teraterm.ini file is read, it is erased.<br>
    If this value is not a full path, it is understood as a relative path from <a href="../setup/folder.html">configuration file folder</a>.
  </dd>

  <dt id="t">/t=&lt;value&gt;</dt>
  <dd><ul>
        <li><span class="syntax">value=2</span> SSH is enabled</li>
        <li><span class="syntax">value=excluding 2</span> SSH is disable</li>
      </ul></dd>

  <dt id="nossh">/nossh</dt>
  <dd>disable SSH connection</dd>

  <dt id="telnet">/telnet</dt>
  <dd>disable SSH connection<br>
      And use Telnet protocol. It is same as <a href="./teraterm.html#t">/T=1 of Tera Term</a>.</dd>

  <dt id="1">/1</dt>
  <dd>connect to server with SSH1 protocol</dd>

  <dt id="ssh1">/ssh1</dt>
  <dd>connect to server with SSH1 protocol</dd>

  <dt id="2">/2</dt>
  <dd>connect to server with SSH2 protocol</dd>

  <dt id="ssh2">/ssh2</dt>
  <dd>connect to server with SSH2 protocol</dd>

  <dt id="ssh-autologin">/ssh-autologin</dt>
  <dd>try to autologin with empty password</dd>

  <dt id="ssh-autologon">/ssh-autologon</dt>
  <dd>try to autologin with empty password</dd>

  <dt id="auth">/auth=&lt;mode&gt;</dt>
  <dd>try to autologin with the authentication method that is specified by &lt;mode&gt;.
      <ul>
        <li><span class="syntax">password</span> Password Authentication</li>
        <li><span class="syntax">publickey</span> Public Key Authentication</li>
        <li><span class="syntax">challenge</span> SSH1:Challenge/Response(TIS) Authentication / SSH2:Keyboard-interactive Authentication</li>
        <li><span class="syntax">keyboard-interactive</span> Same as the challenge</li>
        <li><span class="syntax">pageant</span> Public Key Authentication with Pageant</li>
      </ul></dd>

  <dt id="user">/user=&lt;username&gt;</dt>
  <dd>your username is specified</dd>

  <dt id="passwd">/passwd=&lt;password&gt;</dt>
  <dd>
    your password is specified<br>
    Please refer to <a href="#passwd_specify">Notes on Specifying a Password</a>.
  </dd>

  <dt id="keyfile">/keyfile=&lt;file&gt;</dt>
  <dd>
    your private key file is specified<br>
    If this value is not a full path, it is understood as a relative path from <a href="../setup/folder.html">configuration file folder</a>.
  </dd>

  <dt id="ask4passwd">/ask4passwd</dt>
  <dd>
    disable autologin and ask for password<br>
    '/auth=&lt;mode&gt;' means only authentication method
  </dd>

  <dt id="ssh-l">/ssh-L[&lt;listen_addr&gt;:]&lt;port1&gt;:&lt;host&gt;:&lt;port2&gt;[,[&lt;listen_addr&gt;:]&lt;port1&gt;:&lt;host&gt;:&lt;port2&gt;[,...]]</dt>
  <dd>port-forwarding from local listen-address(&lt;listen_addr&gt;) port(&lt;port1&gt;) to remote side host(&lt;host&gt;) port(&lt;port2&gt;)<br>
      if &lt;listen_addr&gt; is omitted, it listens at localhost.</dd>

  <dt id="ssh-r">/ssh-R[&lt;listen_addr&gt;:]&lt;port1&gt;:&lt;host&gt;:&lt;port2&gt;[,[&lt;listen_addr&gt;:]&lt;port1&gt;:&lt;host&gt;:&lt;port2&gt;[,...]]</dt>
  <dd>port-forwarding from remote listen-address(&lt;listen_addr&gt;) port(&lt;port1&gt;) to local side host(&lt;host&gt;) port(&lt;port2&gt;)<br>
      if &lt;listen_addr&gt; is omitted, it listens at localhost.<br>
      &lt;listen_addr&gt; is not used with SSH1 protocol.</dd>

  <dt id="ssh-d">/ssh-D[&lt;listen_addr&gt;:]&lt;port&gt;[,[&lt;listen_addr&gt;:]&lt;port&gt;[,...]]</dt>
  <dd>dynamic port-forwarding from local listen-address(&lt;listen_addr&gt;) port(&lt;port&gt;) to remote side host<br>
      Tera Term (ttssh) acts as a SOCKS proxy server.<br>
      if &lt;listen_addr&gt; is omitted, it listens at localhost.</dd>

  <dt id="ssh-x">/ssh-X[[&lt;hostname&gt;]:&lt;displaynumber&gt;[.&lt;screennumber&gt;]]</dt>
  <dd>enable X11 forwarding<br>
    When the destination display is specified, the X11 connection is transferred to the display.<br>
    Or when the display is not specified, the transferred display will be determined.
    <ol>
      <li>The X11Display entry of the [TTSSH] section in the teraterm.ini file</li>
      <li>The DISPLAY environment variable</li>
      <li>localhost:0.0</li>
    </ol>
  </dd>

  <dt id="ssh-agent">/ssh-A</dt>
  <dd>enable agent forwarding</dd>

  <dt id="ssh-noagent">/ssh-a</dt>
  <dd>disable agent forwarding</dd>

  <dt id="auth">/ssh-agentconfirm=&lt;on/off&gt;</dt>
  <dd>
      <ul>
        <li><span class="syntax">on</span> confirm agent-forwarding request.</li>
        <li><span class="syntax">off</span> don't confirm agent-forwarding request.</li>
      </ul></dd>

  <dt id="ssh-v">/ssh-v</dt>
  <dd>setup the log level to VERBOSE mode</dd>

  <dt id="ssh-C">/ssh-C</dt>
  <dd>enable compression(level=6)</dd>

  <dt id="ssh-C=">/ssh-C=&lt;level&gt;</dt>
  <dd>enable compression with compression level(0-9)</dd>

  <dt id="ssh-c">/ssh-c</dt>
  <dd>disable compression</dd>

  <dt id="ssh-icon">/ssh-icon=&lt;icon name&gt;</dt>
  <dd>specify the icon on SSH connection<br>
       Could be specified the same value of <a href="../setup/teraterm-win.html#WindowIcon">SSHIcon of setup file</a>.
  </dd>

  <dt id="ssh-subsystem">/ssh-subsystem=&lt;subsystem&gt;</dt>
  <dd>invoke the subsystem that is specified by &lt;subsystem&gt; instead of shell.</dd>

  <dt id="ssh-N">/ssh-N</dt>
  <dd>don't start a shell session when starting a connection.</dd>

  <dt id="nosecuritywarning">/nosecuritywarning</dt>
  <dd>suppress SSH security warning(known_hosts). <strong>THIS OPTION PROHIBITED.</strong> <br>

    <u>NOTICE: This option was created for the purpose of realizing automatic testing of equipment <br>
       in local environment like as a factory. You must not use this option when your network <br>
       contains the security risk. Please at you own risk in every case.<br>
    </u>

  </dd>

</dl>

<p>
If the parameter value can include the space character and semicolon, a user should put the value in quotations by using `"' character. (version 4.63(TTSSH 2.51) or later)<br />
If the value includes the `"' character, the user should write the `"' character two times. (version 4.63(TTSSH 2.51) or later)
</p>
<p>
<strong>Old specification</strong><br />
If the value include the '@', the user should put write `@' character. If the value includes the `@' character, the user should write the `@' character two times. (version 4.10 to 4.62(TTSSH 1.08 to 2.50))
</p>


<h2 id="example1">Example</h2>

<pre>
ttermpro.exe server1:22 /ssh /ssh-L30025:smtpsrv1:25 /ssh-L30110:pop3srv1:110
ttermpro.exe server1:22 /ssh /ssh-D1080
ttermpro.exe server2:22 /ssh /ssh-X
ttermpro.exe server2:22 /ssh /ssh-Xlocalhost:3.0
ttermpro.exe server3:22 /ssh /2 /auth=password /user=guest /passwd=guest
ttermpro.exe server4:22 /ssh /2 /auth=publickey /user=admin /keyfile=pathofkeyfile /ask4passwd
ttermpro.exe ssh://user:password@server5/ /auth=password
ttermpro.exe server6:22 /ssh /2 /auth=publickey /user=guest /keyfile="C:\Users\foo\Documents\My keys\id_ed25519" /passwd="Yu/eA;G2"
ttermpro.exe server7:22 /ssh /2 /auth=password /user=guest /passwd="foo""bar"
</pre>


<h2 id="passwd_specify">Notes on Specifying a Password</h2>

<p>
If you specify a password as a command line argument for ttermpro.exe, the password can be viewed by checking the command line arguments of the running process.<br>
It cannot be viewed without the appropriate permissions to access command line arguments, but it cannot be said that the possibility of misuse is completely eliminated.<br>
Below are some cases in which a password may be specified, along with whether a workaround is available.
</p>

<dl>
  <dt>Run with a command line arguments</dt>
  <dd>
    Start using one of the following methods: from the Command Prompt, the "Run" dialog, or a shortcut.<br>
    <pre>ttermpro.exe server3:22 /ssh /2 /auth=password /user=guest /passwd=guest</pre>
    When started in this way, the command line arguments of that process will be visible.
  </dd>
  <dt>"File &gt; Duplicate session" (prior to TTSSH 3.6.0, included in Tera Term 5.6.0)</dt>
  <dd>
    Tera Term internally generates command line arguments to launch ttermpro.exe. As a result, the command-line arguments of that process can be viewed.<br>
    In TTSSH 3.6.0 and later, the password is no longer passed via command-line arguments.
  </dd>
  <dt>Specify command line arguments in the "Host" field of the New Connection dialog and connect</dt>
  <dd>
    The "Host" field of the New Connection dialog can accept command line arguments.<br>
    If the Tera Term is not connected, Tera Term does not start new ttermpro.exe. There is no problem in this case.<br>
    If the Tera Term is already connected, Tera Term starts new ttermpro.exe with command line arguments. As a result, the command-line arguments of that process can be viewed.<br>
    The workaround is: "Do not start a new connection from an already connected Tera Term."
  </dd>
  <dt>Specify an argument of connect macro command</dt>
  <dd>
    The argument of connect macro command is the argument used to lauch ttermpro.exe.<br>
    The connect macro command starts new ttermpro.exe when the Macro is not connected to Tera Term. As a result, the command-line arguments of that process can be viewed.<br>
    <pre>connect 'server3:22 /ssh /2 /auth=password /user=guest /passwd=guest'</pre>
    If you first link to Tera Term and then run the connect command again, a new ttermpro.exe is not started.
    <pre>
; '/DS' option suppresses "New Connection" dialog
connect '/DS'
connect 'server3:22 /ssh /2 /auth=password /user=guest /passwd=guest'
    </pre>
  </dd>
  <dt>Start from TeraTerm Menu (prior to TeraTerm Menu 1.21, included in Tera Term 5.6.0)</dt>
  <dd>
    TeraTerm Menu constructs command line arguments from the input values and starts ttermpro.exe. As a result, the command-line arguments of that process can be viewed.<br>
    A possible workaround is to write a macro as shown above and use the macro file instead of an SSH configuration.<br>
    In TeraTerm Menu 1.21 and later, the password is no longer passed via command-line arguments.
  </dd>
</dl>


<h2 id="example2">Example: Pageant collaboration</h2>

<p>
Setup <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" target="_blank">Pageant</a> in the startup folder.
</p>

<pre>
C:\usr\pageant.exe c:\usr\Identity.ppk
</pre>

<p>
How to connect with the public key authentication by using Pageant is shown as follows.
</p>

<pre>
ttermpro.exe shell.osdn.net:22 /ssh /auth=pageant /user=yutaka
</pre>

</body>
</html>
